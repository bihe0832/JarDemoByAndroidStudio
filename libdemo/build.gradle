apply plugin: 'java'

jar{
    //项目名，也是生成的jar的名字
    baseName = "libdemo"
    //项目版本号，这部分内容会写进manifest
    version = "1.0"
    //项目的manifest定义，其中就包含最关键的入口类定义
    manifest{
        attributes 'Main-Class': 'com.bihe0832.jardemo.MyClass'
    }
}

dependencies {
    compile fileTree(dir: 'libs', include: ['*.jar'])
}

task makeJar(type: proguard.gradle.ProGuardTask, dependsOn: "build") {
    // 未混淆的jar路径
    injars 'build/libs/'+ jar.baseName +'-'+ jar.version +'.jar'
    // 混淆后的jar输出路径
    outjars './../'+ jar.baseName  +'.jar'
    // 混淆协议
    configuration './../proguard-rules.pro'
}
